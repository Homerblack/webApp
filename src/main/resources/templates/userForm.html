<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">

<div class="max-w-2xl w-full space-y-8 bg-white p-10 rounded-xl shadow-lg">

    <div>
        <h2 class="text-3xl font-bold text-center text-gray-900">Create your account</h2>
        <p class="mt-2 text-center text-sm text-gray-600">
            Please fill in all the fields below
        </p>
    </div>

    <!-- Server-side error/success message -->
    <div th:if="${message}"
         class="rounded-md p-4 text-sm font-medium"
         th:classappend="${message.contains('success') ? 'bg-green-50 text-green-800' : 'bg-red-50 text-red-800'}"
         th:text="${message}">
    </div>

    <form th:action="@{/saveUser}" th:object="${userForm}" method="post" class="space-y-6">

        <!-- Name Row -->
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
            <div>
                <label for="firstName" class="block text-sm font-medium text-gray-700">First Name</label>
                <input id="firstName"
                       type="text"
                       th:field="*{firstName}"
                       required
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"
                       placeholder="John"/>
                <p th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" class="mt-1 text-sm text-red-600"></p>
            </div>

            <div>
                <label for="lastName" class="block text-sm font-medium text-gray-700">Last Name</label>
                <input id="lastName"
                       type="text"
                       th:field="*{lastName}"
                       required
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"
                       placeholder="Doe"/>
                <p th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}" class="mt-1 text-sm text-red-600"></p>
            </div>
        </div>

        <!-- Email -->
        <div>
            <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
            <input id="email"
                   type="email"
                   th:field="*{email}"
                   required
                   autocomplete="email"
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"
                   placeholder="you@example.com"/>
            <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="mt-1 text-sm text-red-600"></p>
        </div>

        <!-- Password + Confirm Password -->
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
            <div>
                <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                <input id="password"
                       type="password"
                       th:field="*{password}"
                       required
                       autocomplete="new-password"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"/>
                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="mt-1 text-sm text-red-600"></p>
            </div>

            <div>
                <label for="confirmPassword" class="block text-sm font-medium text-gray-700">Confirm Password</label>
                <input id="confirmPassword"
                       type="password"
                       th:field="*{confirmPassword}"
                       required
                       autocomplete="new-password"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"/>
                <p th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}" class="mt-1 text-sm text-red-600"></p>
            </div>
        </div>

        <!-- Phone & Age -->
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
            <div>
                <label for="phoneNumber" class="block text-sm font-medium text-gray-700">Phone Number</label>
                <input id="phoneNumber"
                       type="text"
                       th:field="*{phoneNumber}"
                       required
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"
                       placeholder="+1234567890"/>
            </div>

            <div>
                <label for="age" class="block text-sm font-medium text-gray-700">Age</label>
                <input id="age"
                       type="number"
                       min="13"
                       max="120"
                       th:field="*{age}"
                       required
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"/>
            </div>
        </div>

        <!-- Sex -->
        <div>
            <label for="sex" class="block text-sm font-medium text-gray-700">Sex</label>
            <select id="sex"
                    th:field="*{sex}"
                    required
                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border">
                <option value="" disabled selected>Select your gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other / Prefer not to say</option>
            </select>
        </div>

        <!-- Address Fields -->
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
            <div>
                <label for="postalCode" class="block text-sm font-medium text-gray-700">Postal Code</label>
                <input id="postalCode"
                       type="text"
                       th:field="*{postalCode}"
                       required
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"/>
            </div>

            <div>
                <label for="city" class="block text-sm font-medium text-gray-700">City</label>
                <input id="city"
                       type="text"
                       th:field="*{city}"
                       required
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"/>
            </div>
        </div>

        <div>
            <label for="address" class="block text-sm font-medium text-gray-700">Street Address</label>
            <input id="address"
                   type="text"
                   th:field="*{address}"
                   required
                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm px-3 py-2 border"
                   placeholder="123 Main St"/>
        </div>

        <!-- Submit Button -->
        <div class="flex justify-between items-center pt-6">
            <!-- This will take you to Start page  -->
            <a th:href="@{/}" class="text-sm font-medium text-gray-600 hover:text-gray-800">
                ‚Üê Back to Users List
            </a>

            <button type="submit"
                    class="px-8 py-3 bg-indigo-600 text-white font-medium rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition shadow-md">
                Register
            </button>
        </div>

        <!-- Optional link to login
        <div class="text-center text-sm">
            Already have an account?
            <a th:href="@{/login}" class="font-medium text-indigo-600 hover:text-indigo-500">Sign in</a>
        </div>
        -->
    </form>
</div>

</body>
</html>